# ë–¡ìƒ - Quant Engine(www.dducksang.com)

![Python](https://img.shields.io/badge/Python-3.11+-3776AB?logo=python&logoColor=white)
![FastAPI](https://img.shields.io/badge/FastAPI-0.128-009688?logo=fastapi&logoColor=white)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-4169E1?logo=postgresql&logoColor=white)
![asyncpg](https://img.shields.io/badge/asyncpg-async-blue)
![Railway](https://img.shields.io/badge/Railway-0B0D0E?logo=railway&logoColor=white)

ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ ì£¼ì‹ íˆ¬ì ì „ëµ ì„œë¹„ìŠ¤ "ë–¡ìƒ"ì˜ **ë©€í‹°íŒ©í„° í€€íŠ¸ ë¶„ì„ ì—”ì§„**ì…ë‹ˆë‹¤.

---

## ëª©ì°¨

- [ì´ ì €ì¥ì†Œì˜ ì—­í• ](#ì´-ì €ì¥ì†Œì˜-ì—­í• )
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [í•œêµ­ í€€íŠ¸ ëª¨ë¸](#í•œêµ­-í€€íŠ¸-ëª¨ë¸)
- [ë¯¸êµ­ í€€íŠ¸ ëª¨ë¸](#ë¯¸êµ­-í€€íŠ¸-ëª¨ë¸)
- [ì˜ˆì¸¡ ì ì¤‘ë¥  ì¶”ì  ì‹œìŠ¤í…œ](#ì˜ˆì¸¡-ì ì¤‘ë¥ -ì¶”ì -ì‹œìŠ¤í…œ)
- [í•µì‹¬ ê¸°ìˆ  íŠ¹ì§•](#í•µì‹¬-ê¸°ìˆ -íŠ¹ì§•)
- [ì„±ëŠ¥ íŠ¹ì„±](#ì„±ëŠ¥-íŠ¹ì„±)
- [ë‚´ë¶€ ë””ë ‰í† ë¦¬ êµ¬ì¡°](#ë‚´ë¶€-ë””ë ‰í† ë¦¬-êµ¬ì¡°)
- [ê°œë°œí™˜ê²½ ë° ì‚¬ìš©ê¸°ìˆ ](#ê°œë°œí™˜ê²½-ë°-ì‚¬ìš©ê¸°ìˆ )
- [API ì—”ë“œí¬ì¸íŠ¸](#api-ì—”ë“œí¬ì¸íŠ¸)
- [ì„œë¹„ìŠ¤ ì—°ë™ (Chaining)](#ì„œë¹„ìŠ¤-ì—°ë™-chaining)
- [License](#license)

---

## ì´ ì €ì¥ì†Œì˜ ì—­í• 

ì „ì²´ í”„ë¡œì íŠ¸ ì¤‘ **Quant Engine** ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.

- í•œêµ­/ë¯¸êµ­ ì£¼ì‹ ì•½ 7,000+ ì¢…ëª© ì¼ê´„ ë¶„ì„
- 4ëŒ€ íŒ©í„° ê¸°ë°˜ íˆ¬ì ë“±ê¸‰ ì‚°ì¶œ (A+ ~ F)
- IC(Information Coefficient) ê¸°ë°˜ ë™ì  ê°€ì¤‘ì¹˜ ì‹œìŠ¤í…œ
- AI Agentìš© íŠ¸ë ˆì´ë”© ì§€í‘œ ìƒì„±
- **Railway HTTP ì„œë¹„ìŠ¤ë¡œ ë°°í¬** (FastAPI + uvicorn)

## KR, USì˜ ê° íŒ©í„°ë³„ ì „ëµ ì½”ë“œëŠ” ì œì™¸ëœ ë²„ì „ì…ë‹ˆë‹¤.

## í”„ë¡œì íŠ¸ êµ¬ì¡°

| ì €ì¥ì†Œ | ì„¤ëª… | ê¸°ìˆ  ìŠ¤íƒ |
|--------|------|-----------|
| [**overview**](https://github.com/vinjung/alphafolio_overview) | í”„ë¡œì íŠ¸ ì„¤ëª… | - |
| [**client**](https://github.com/vinjung/alphafolio_client) | Frontend (UI/UX) (í˜„ì¬ ì €ì¥ì†Œ)  | Next.js 15, React 19, Tailwind CSS 4, Redis |
| [**api**](https://github.com/vinjung/alphafolio_api) | AI ì±„íŒ… ë°±ì—”ë“œ API (í˜„ì¬ ì €ì¥ì†Œ) | FastAPI, LangGraph, ChromaDB, Fine-tuned GPT |
| [**data**](https://github.com/vinjung/alphafolio_data) | ë°ì´í„° ìë™ ìˆ˜ì§‘ & ì§€í‘œ ê³„ì‚° | FastAPI, asyncpg, Cloud Scheduler |
| [**chat**](https://github.com/vinjung/alphafolio_chat) | AI ë¹„ì„œ ê°œë°œí™˜ê²½ | LangChain, LangGraph, ChromaDB |
| [**quant**](https://github.com/vinjung/alphafolio_quant) | **ğŸ“ ë©€í‹°íŒ©í„° í€€íŠ¸ ë¶„ì„ ì—”ì§„ (í˜„ì¬ ì €ì¥ì†Œ)** | NumPy, SciPy, hmmlearn |
| [**stock_agent**](https://github.com/vinjung/alphafolio_stock_agent) | ì¢…ëª© íˆ¬ì ì „ëµ Multi-Agent AI | LangGraph, Task-driven Architecture |
| [**portfolio**](https://github.com/vinjung/alphafolio_portfolio) | í¬íŠ¸í´ë¦¬ì˜¤ ìƒì„± & ë¦¬ë°¸ëŸ°ì‹± ì—”ì§„ | Risk Parity, VaR/CVaR, LangGraph |

---

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ ë¶„ì„ íŒŒì´í”„ë¼ì¸

```mermaid
flowchart TB
    subgraph Input["ì…ë ¥"]
        DATE[ë¶„ì„ ë‚ ì§œ]
        SYMBOLS[ì¢…ëª© ë¦¬ìŠ¤íŠ¸]
    end

    subgraph Phase1["Phase 1: ê³µí†µ ë°ì´í„°"]
        ECON[ê²½ì œ ì§€í‘œ ë¶„ì„]
        CYCLE[ê²½ì œ ì‚¬ì´í´ ë§¤ì¹­]
        REGIME[ì‹œì¥ ë ˆì§ ê°ì§€]
    end

    subgraph Phase2["Phase 2: ì¡°ê±´ ë¶„ì„"]
        COND[9ê°€ì§€ ì¡°ê±´ ë¶„ì„]
        CLASS[ì‹œì¥ ìƒíƒœ ë¶„ë¥˜]
        WEIGHT[ë™ì  ê°€ì¤‘ì¹˜ ê³„ì‚°]
    end

    subgraph Phase3["Phase 3: íŒ©í„° ê³„ì‚°"]
        VALUE[Value Factor]
        QUALITY[Quality Factor]
        MOMENTUM[Momentum Factor]
        GROWTH[Growth Factor]
    end

    subgraph Phase4["Phase 4: ì¶”ê°€ ì§€í‘œ ê³„ì‚°"]
        RISK[ë¦¬ìŠ¤í¬ ì§€í‘œ]
        AGENT[Agent ì§€í‘œ]
        SCENARIO[ì‹œë‚˜ë¦¬ì˜¤ í™•ë¥ ]
    end

    subgraph Output["ì¶œë ¥ ë° ì €ì¥"]
        GRADE[íˆ¬ì ë“±ê¸‰]
        DB[(stock_grade)]
    end

    DATE --> ECON
    SYMBOLS --> ECON
    ECON --> CYCLE
    CYCLE --> REGIME
    REGIME --> COND
    COND --> CLASS
    CLASS --> WEIGHT
    WEIGHT --> VALUE
    WEIGHT --> QUALITY
    WEIGHT --> MOMENTUM
    WEIGHT --> GROWTH
    VALUE --> RISK
    QUALITY --> RISK
    MOMENTUM --> RISK
    GROWTH --> RISK
    RISK --> AGENT
    AGENT --> SCENARIO
    SCENARIO --> GRADE
    GRADE --> DB
```

### í•œêµ­ vs ë¯¸êµ­ ëª¨ë¸ ë¹„êµ

```mermaid
flowchart LR
    subgraph KR["í•œêµ­ ëª¨ë¸"]
        KR_FACTOR[4 Factor<br/>73ê°œ ì „ëµ]
        KR_STATE[19ê°œ ì‹œì¥ ìƒíƒœ]
        KR_IC[IC ê¸°ë°˜ ê°€ì¤‘ì¹˜]
    end

    subgraph US["ë¯¸êµ­ ëª¨ë¸"]
        US_FACTOR[4 Factor<br/>+ Interaction]
        US_ENGINE[3ëŒ€ Engine]
        US_OPT[ê±°ë˜ì†Œ/ì„¹í„° ìµœì í™”]
    end

    KR_FACTOR --> KR_STATE
    KR_STATE --> KR_IC
    US_FACTOR --> US_ENGINE
    US_ENGINE --> US_OPT
```

---

## í•œêµ­ í€€íŠ¸ ëª¨ë¸

### 4ëŒ€ íŒ©í„° (73ê°œ ì „ëµ)

| íŒ©í„° | ì „ëµ ìˆ˜ | ì£¼ìš” ì „ëµ |
|------|---------|-----------|
| **Value** | 15ê°œ | Magic Formula, EV/EBITDA, ìˆœìì‚°í• ì¸, ì£¼ì£¼í™˜ì›ìœ¨ |
| **Quality** | 17ê°œ | ROE ì¼ê´€ì„±, ì˜ì—…ë§ˆì§„, ì´ìë³´ìƒë°°ìœ¨, í˜„ê¸ˆíë¦„ |
| **Momentum** | 23ê°œ | ê°€ê²© ëª¨ë©˜í…€, RSI, MACD, ì™¸êµ­ì¸ ìˆœë§¤ìˆ˜ |
| **Growth** | 18ê°œ | ë§¤ì¶œ/EPS/ì˜ì—…ì´ìµ ì„±ì¥ë¥ , R&D íˆ¬ì |

**íŠ¹ì§•**: ì„¹í„° ë©€í‹°í”Œë¼ì´ì–´ (0.5~1.5) ì ìš©

### 19ê°œ ì‹œì¥ ìƒíƒœ ë¶„ë¥˜

9ê°€ì§€ ì¡°ê±´ì„ ë¶„ì„í•˜ì—¬ 19ê°œ ì‹œì¥ ìƒíƒœ ì¤‘ í•˜ë‚˜ë¡œ ë¶„ë¥˜:

```mermaid
flowchart LR
    subgraph Conditions["9ê°€ì§€ ì¡°ê±´"]
        C1[ê±°ë˜ì†Œ]
        C2[ì‹œê°€ì´ì•¡]
        C3[ìœ ë™ì„±]
        C4[ê²½ì œì‚¬ì´í´]
        C5[ì‹œì¥ì‹¬ë¦¬]
        C6[ì„¹í„°ì‚¬ì´í´]
        C7[í…Œë§ˆ]
        C8[ë³€ë™ì„±]
        C9[ìˆ˜ê¸‰]
    end

    subgraph States["19ê°œ ì‹œì¥ ìƒíƒœ"]
        S1[KOSPIëŒ€í˜•-í™•ì¥ê³¼ì—´-ê³µê²©í˜•]
        S2[KOSPIëŒ€í˜•-ì¹¨ì²´íŒ¨ë‹‰-ì´ˆë°©ì–´í˜•]
        S3[KOSDAQì†Œí˜•-í•«ì„¹í„°-ì´ˆê³ ìœ„í—˜í˜•]
        S4[...]
    end

    Conditions --> States
```

| ê·¸ë£¹ | ìƒíƒœ ì˜ˆì‹œ | íŠ¹ì§• |
|------|----------|------|
| ëŒ€í˜•ì£¼ (6ê°œ) | KOSPIëŒ€í˜•-í™•ì¥ê³¼ì—´-ê³µê²©í˜• | MEGA/LARGE, EXPANSION |
| ì¤‘í˜•ì£¼ (6ê°œ) | KOSPIì¤‘í˜•-í™•ì¥ê³¼ì—´-ëª¨ë©˜í…€í˜• | MEDIUM |
| ì†Œí˜•ì£¼ (4ê°œ) | KOSDAQì†Œí˜•-í•«ì„¹í„°-ì´ˆê³ ìœ„í—˜í˜• | SMALL, HOT |
| íŠ¹ìˆ˜ (2ê°œ) | ì „ì‹œì¥-ê·¹ì €ìœ ë™ì„±-ê³ ìœ„í—˜í˜• | PANIC, LOW liquidity |

### IC ê¸°ë°˜ ë™ì  ê°€ì¤‘ì¹˜

```mermaid
flowchart LR
    BASE["ê¸°ë³¸ ê°€ì¤‘ì¹˜<br/>V:15% Q:25%<br/>M:20% G:40%"]
    COND["ì¡°ê±´ë³„ ì¡°ì •ê³„ìˆ˜"]
    NORM["ì •ê·œí™”<br/>(í•©=100%)"]
    LIMIT["ê·¹ë‹¨ê°’ ì œí•œ<br/>(5%~50%)"]

    BASE --> COND --> NORM --> LIMIT
```

| íŒ©í„° | ê¸°ë³¸ ê°€ì¤‘ì¹˜ |
|------|------------|
| Growth | 40% |
| Quality | 25% |
| Momentum | 20% |
| Value | 15% |

### ë“±ê¸‰ ê²°ì • (6ë‹¨ê³„)

| ë“±ê¸‰ | ì¡°ê±´ |
|------|------|
| ê°•ë ¥ ë§¤ìˆ˜ | Final Score >= ì„ê³„ê°’ AND í•„í„° 3ê°œ+ í†µê³¼ AND ìµœì  ëª¨ë©˜í…€ |
| ë§¤ìˆ˜ | Final Score >= ì„ê³„ê°’ AND í•„í„° 3ê°œ+ í†µê³¼ |
| ë§¤ìˆ˜ ê³ ë ¤ | Final Score >= ì„ê³„ê°’ AND í•„í„° 2ê°œ+ í†µê³¼ |
| ì¤‘ë¦½ | ë§¤ìˆ˜ê³ ë ¤ ~ ë§¤ë„ê³ ë ¤ ì‚¬ì´ |
| ë§¤ë„ ê³ ë ¤ | Final Score < ë§¤ë„ê³ ë ¤ ì„ê³„ê°’ |
| ë§¤ë„ | Final Score < ë§¤ë„ ì„ê³„ê°’ |

---

## ë¯¸êµ­ í€€íŠ¸ ëª¨ë¸

### 4ëŒ€ íŒ©í„° + Factor Interaction

```mermaid
flowchart TB
    subgraph Factors["4ëŒ€ íŒ©í„°"]
        VL[Value<br/>VL1-VL6]
        QA[Quality<br/>QA1-QA6]
        MO[Momentum<br/>MO1-MO6]
        FG[Growth<br/>FG1-FG6 + NQ1-NQ4]
    end

    subgraph Interaction["Factor Interaction"]
        I1[I1: Growth x Quality]
        I2[I2: Growth x Momentum]
        I3[I3: Quality x Value]
        I4[I4: Momentum x Quality]
        I5[I5: All-Factor Agreement]
    end

    subgraph Score["ì ìˆ˜ ê³„ì‚°"]
        BASE[Base Score x 70%]
        INT[Interaction Score x 30%]
        TOTAL[Total Score]
    end

    VL --> BASE
    QA --> BASE
    MO --> BASE
    FG --> BASE
    VL --> I1
    QA --> I1
    MO --> I2
    FG --> I2
    I1 --> INT
    I2 --> INT
    I3 --> INT
    I4 --> INT
    I5 --> INT
    BASE --> TOTAL
    INT --> TOTAL
```

### Factor Interaction (ë¹„ì„ í˜• ê´€ê³„ í•´ê²°)

| Term | ì´ë¦„ | ê°€ì¤‘ì¹˜ | ê³„ì‚° ë°©ì‹ |
|------|------|--------|-----------|
| I1 | Growth x Quality | 30% | ê¸°í•˜í‰ê·  + ì‹œë„ˆì§€ ë³´ë„ˆìŠ¤ |
| I2 | Growth x Momentum | 25% | ì¡°í™”í‰ê·  |
| I3 | Quality x Value | 20% | ì‚°ìˆ í‰ê·  + ë³´ë„ˆìŠ¤ |
| I4 | Momentum x Quality | 15% | ê¸°í•˜í‰ê·  - íŒ¨ë„í‹° |
| I5 | Conviction Score | 10% | í‘œì¤€í¸ì°¨ ê¸°ë°˜ í•©ì˜ë„ |

**ë°°ê²½**: Pearson IC (-0.097) vs Spearman IC (+0.174) ê°­ í•´ê²°

### 3ëŒ€ Engine (Phase 3.4)

```mermaid
flowchart LR
    subgraph Engines["3ëŒ€ Engine"]
        EVENT[Event Engine<br/>-15 ~ +15ì ]
        MACRO[Macro Engine<br/>ê°€ì¤‘ì¹˜ ì¡°ì •]
        VOL[Volatility Engine<br/>ë¯¼ê°ë„ë³„ ì¡°ì •]
    end

    subgraph EventDetails["Event Engine ìƒì„¸"]
        E1[ì‹¤ì  ë°œí‘œ ì„ë°•]
        E2[ì˜µì…˜ ì„¼í‹°ë¨¼íŠ¸]
        E3[ë‚´ë¶€ì ê±°ë˜]
    end

    EVENT --> E1
    EVENT --> E2
    EVENT --> E3
```

<details>
<summary><b>Event Engine ìƒì„¸</b></summary>

| ì´ë²¤íŠ¸ | Modifier | ì„¤ëª… |
|--------|----------|------|
| ì‹¤ì  D-5~D-1 | -5ì  | ì‹¤ì  ì„ë°• ë¶ˆí™•ì‹¤ì„± |
| Put/Call > 1.5 | -5ì  | Bearish ì„¼í‹°ë¨¼íŠ¸ |
| Put/Call < 0.5 | +3ì  | Bullish ì„¼í‹°ë¨¼íŠ¸ |
| 3+ ê²½ì˜ì§„ ë§¤ìˆ˜ | +10ì  | Cluster Buying |
| CEO ëŒ€ëŸ‰ ë§¤ë„ | -5ì  | C-level Selling |

</details>

<details>
<summary><b>Macro Engine ìƒì„¸</b></summary>

**Rate Sensitivity Matrix**

| í™˜ê²½ | Fed Rate | CPI | ê°€ì¤‘ì¹˜ ì¡°ì • |
|------|----------|-----|-------------|
| HIGH_RATE_HIGH_INFLATION | > 4.5% | > 3.0% | Quality +5%, Value +5% |
| HIGH_RATE_LOW_INFLATION | > 4.5% | <= 3.0% | Value +3%, Quality +2% |
| LOW_RATE_HIGH_INFLATION | <= 4.5% | > 3.0% | Value +5% |
| LOW_RATE_LOW_INFLATION | <= 4.5% | <= 3.0% | Growth +4%, Momentum +3% |

**Yield Curve Signal**

| ì‹ í˜¸ | 10Y-2Y ìŠ¤í”„ë ˆë“œ | ì¡°ì • |
|------|-----------------|------|
| INVERTED | < 0% | Quality +3%, Momentum -3% |
| STEEPENING | > 1.0% | Growth +2%, Momentum +2% |

</details>

<details>
<summary><b>Volatility Engine ìƒì„¸ (Phase 3.4.2)</b></summary>

**Factorë³„ ë¯¼ê°ë„**

| Factor | Sensitivity | ì„¤ëª… |
|--------|-------------|------|
| Momentum | 1.0 (100%) | ì¶”ì„¸ ì‹ ë¢°ë„ ì§ê²° |
| Growth | 0.7 (70%) | ì„±ì¥ì£¼ íŠ¹ì„± |
| Value | 0.3 (30%) | íƒ€ì´ë° ì˜ì¡´ë„ ë‚®ìŒ |
| Quality | 0.1 (10%) | í€ë”ë©˜í„¸ ê¸°ë°˜ |

**IV Percentile ê¸°ë°˜ ì¡°ì •**

| IV Percentile | Modifier |
|---------------|----------|
| >= 90% | -10ì  |
| >= 80% | -7ì  |
| <= 10% | +5ì  |
| <= 20% | +3ì  |

</details>

### ì‹œì¥ ë ˆì§ ê°ì§€

| ë ˆì§ | ì„¤ëª… | ê°€ì¤‘ì¹˜ ë°°ë¶„ |
|------|------|-------------|
| AI_BULL | AI ì£¼ë„ ì„±ì¥ì£¼ ë ë¦¬ | Momentum 35%, Growth 30% |
| TIGHTENING | ê¸ˆë¦¬ ì¸ìƒ/ê¸´ì¶• | Quality 40%, Value 30% |
| RECOVERY | ê²½ê¸° íšŒë³µê¸° | Value 30%, Momentum 30% |
| CRISIS | ìœ„ê¸°/ê¸‰ë½ì¥ | Quality 50%, Value 25% |
| NEUTRAL | í˜¼ì¡°ì¥/ì¤‘ë¦½ | ê· í˜• ë°°ë¶„ (25% ê°) |

### ê±°ë˜ì†Œ/ì„¹í„°ë³„ ìµœì í™”

<details>
<summary><b>NASDAQ ìµœì í™”</b></summary>

**NASDAQ ê¸°ë³¸ ê°€ì¤‘ì¹˜**
- Growth: 45% (IC 0.136 ìµœê³ )
- Value: 20%
- Quality: 20%
- Momentum: 15% (IC 0.056 ìµœì €)

</details>

**Cash Runway í‰ê°€**

| Runway | íŒ¨ë„í‹° | ìœ„í—˜ë„ |
|--------|--------|--------|
| < 12ê°œì›” | -15ì  | Critical |
| < 18ê°œì›” | -10ì  | High Risk |
| < 24ê°œì›” | -5ì  | Warning |

---

## ì˜ˆì¸¡ ì ì¤‘ë¥  ì¶”ì  ì‹œìŠ¤í…œ

í€€íŠ¸ ë¶„ì„ ê²°ê³¼ì˜ ì‹¤ì œ ì„±ê³¼ë¥¼ ì¶”ì í•˜ì—¬ ëª¨ë¸ ì‹ ë¢°ë„ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.

### í…Œì´ë¸” êµ¬ì¡°

| í…Œì´ë¸” | ì„¤ëª… |
|--------|------|
| kr_stock_prediction_history | í•œêµ­ ì¢…ëª© ë“±ê¸‰ë³„ 90ì¼ í›„ ì ì¤‘ ì—¬ë¶€ |
| kr_stock_prediction_stats | í•œêµ­ ì¢…ëª©ë³„ ì ì¤‘ë¥  í†µê³„ |
| us_stock_prediction_history | ë¯¸êµ­ ì¢…ëª© ë“±ê¸‰ë³„ 90ì¼ í›„ ì ì¤‘ ì—¬ë¶€ |
| us_stock_prediction_stats | ë¯¸êµ­ ì¢…ëª©ë³„ ì ì¤‘ë¥  í†µê³„ |

### ì ì¤‘ ë¡œì§

| ë“±ê¸‰ ë°©í–¥ | ì¡°ê±´ | ì ì¤‘ íŒì • |
|-----------|------|-----------|
| BUY (ê°•ë ¥ ë§¤ìˆ˜/ë§¤ìˆ˜/ë§¤ìˆ˜ ê³ ë ¤) | 90ì¼ í›„ ìˆ˜ìµë¥  > 0 | ì ì¤‘ |
| SELL (ë§¤ë„ ê³ ë ¤/ë§¤ë„/ê°•ë ¥ ë§¤ë„) | 90ì¼ í›„ ìˆ˜ìµë¥  < 0 | ì ì¤‘ |

---

## í•µì‹¬ ê¸°ìˆ  íŠ¹ì§•

<details>
<summary><b>ë°°ì¹˜ ìµœì í™” (99.96% ì¿¼ë¦¬ ê°ì†Œ)</b></summary>

**ìµœì í™” ì „**: 36,400 ì¿¼ë¦¬/ë°°ì¹˜
**ìµœì í™” í›„**: 15 ì¿¼ë¦¬/ë°°ì¹˜

**ë°©ë²•**:
1. ê³µí†µ ë°ì´í„° 1íšŒ ê³„ì‚°
2. ì¢…ëª©ë³„ ë°ì´í„° ë²Œí¬ ì¡°íšŒ (4-5 ì¿¼ë¦¬)
3. ë©”ëª¨ë¦¬ì—ì„œ ê°€ì¤‘ì¹˜ ê³„ì‚° (DB ì¿¼ë¦¬ ì—†ìŒ)

</details>

<details>
<summary><b>Agentìš© ì§€í‘œ ìƒì„±</b></summary>

| ì§€í‘œ | ì„¤ëª… |
|------|------|
| ATR ê¸°ë°˜ ì†ì ˆ/ìµì ˆ | ì„¹í„°ë³„ ATR ë°°ìˆ˜ ì ìš© |
| Entry Timing Score | ì§„ì… íƒ€ì´ë° ì ìˆ˜ |
| Position Size | ë³€ë™ì„± ê¸°ë°˜ í¬ì§€ì…˜ ì‚¬ì´ì¦ˆ |
| Scenario Probability | ìƒìŠ¹/íš¡ë³´/í•˜ë½ í™•ë¥  |

**Multi-Tier Stop Loss**

| Tier | ìœ í˜• |
|------|------|
| 1 | ATR Stop |
| 2 | Trailing Stop |
| 3 | Time-Based Stop |
| 4 | Score Degradation |

</details>

<details>
<summary><b>ë¦¬ìŠ¤í¬ ì§€í‘œ</b></summary>

| ì§€í‘œ | ì„¤ëª… |
|------|------|
| VaR 95% | Value at Risk |
| CVaR 95% | Conditional VaR |
| MDD | ìµœëŒ€ ë‚™í­ (1ë…„) |
| Beta | ì‹œì¥ ë¯¼ê°ë„ |
| Sharpe Ratio | ìœ„í—˜ì¡°ì •ìˆ˜ìµë¥  |
| Sortino Ratio | í•˜ë½ ìœ„í—˜ì¡°ì •ìˆ˜ìµë¥  |

</details>

---

## ì„±ëŠ¥ íŠ¹ì„±

| í•­ëª© | í•œêµ­ | ë¯¸êµ­ |
|------|------|------|
| ë¶„ì„ ëŒ€ìƒ | ~2,748 ì¢…ëª© | ~4,500 ì¢…ëª© |
| ë°°ì¹˜ í¬ê¸° | 20 ì¢…ëª©/ë°°ì¹˜ | 20 ì¢…ëª©/ë°°ì¹˜ |
| DB ì—°ê²° í’€ | 10~45 connections | 10~30 connections |
| í‰ê·  ì²˜ë¦¬ ì‹œê°„ | ~10-15ë¶„ | ~15-20ë¶„ |

---

## ë‚´ë¶€ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
quant/
â”œâ”€â”€ app.py                      # FastAPI ì„œë²„ (Railway ë°°í¬ìš©)
â”œâ”€â”€ Procfile                    # Railway ì‹¤í–‰ ëª…ë ¹
â”œâ”€â”€ requirements.txt            # Python ì˜ì¡´ì„±
â”œâ”€â”€ kr_prediction_collector.py  # í•œêµ­ ì˜ˆì¸¡ ì ì¤‘ë¥  ìˆ˜ì§‘ê¸°
â”œâ”€â”€ us_prediction_collector.py  # ë¯¸êµ­ ì˜ˆì¸¡ ì ì¤‘ë¥  ìˆ˜ì§‘ê¸°
â”‚
â”œâ”€â”€ kr/                         # í•œêµ­ ì£¼ì‹ í€€íŠ¸ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ kr_main.py              # ë©”ì¸ ì‹¤í–‰ & run_option1() API ì§„ì…ì 
â”‚   â”œâ”€â”€ db_async.py             # ë¹„ë™ê¸° DB ì»¤ë„¥ì…˜ í’€
â”‚   â”œâ”€â”€ weight.py               # ì¡°ê±´ ë¶„ì„ & ë™ì  ê°€ì¤‘ì¹˜
â”‚   â”œâ”€â”€ batch_weight.py         # ë°°ì¹˜ ì²˜ë¦¬ ìµœì í™”
â”‚   â”œâ”€â”€ market_classifier.py    # 19ê°œ ì‹œì¥ ìƒíƒœ ë¶„ë¥˜
â”‚   â”œâ”€â”€ kr_value_factor.py      # Value íŒ©í„° (15ê°œ ì „ëµ)
â”‚   â”œâ”€â”€ kr_quality_factor.py    # Quality íŒ©í„° (17ê°œ ì „ëµ)
â”‚   â”œâ”€â”€ kr_momentum_factor.py   # Momentum íŒ©í„° (23ê°œ ì „ëµ)
â”‚   â”œâ”€â”€ kr_growth_factor.py     # Growth íŒ©í„° (18ê°œ ì „ëµ)
â”‚   â”œâ”€â”€ kr_additional_metrics.py # ë¦¬ìŠ¤í¬/Agent ì§€í‘œ
â”‚   â”œâ”€â”€ kr_interpretation.py    # í…ìŠ¤íŠ¸ í•´ì„ ìƒì„±
â”‚   â”œâ”€â”€ kr_alternative_matcher.py # ëŒ€ì•ˆ ì¢…ëª© ë§¤ì¹­
â”‚   â”œâ”€â”€ kr_data_prefetcher.py   # ì¿¼ë¦¬ ìµœì í™” (83% ê°ì†Œ)
â”‚   â”œâ”€â”€ kr_outlier_risk.py      # ì´ìƒì¹˜ ë¦¬ìŠ¤í¬ ê°ì§€
â”‚   â”œâ”€â”€ kr_probability_calibrator.py # í™•ë¥  ìº˜ë¦¬ë¸Œë ˆì´ì…˜
â”‚   â””â”€â”€ kr_rolling_calibrator.py # ë¡¤ë§ ìº˜ë¦¬ë¸Œë ˆì´ì…˜
â”‚
â”œâ”€â”€ us/                         # ë¯¸êµ­ ì£¼ì‹ í€€íŠ¸ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ us_main.py              # ë©”ì¸ ì‹¤í–‰ & run_option1() API ì§„ì…ì 
â”‚   â”œâ”€â”€ us_db_async.py          # ë¹„ë™ê¸° DB ì»¤ë„¥ì…˜ í’€
â”‚   â”œâ”€â”€ weight_adjustments.py   # ë™ì  ê°€ì¤‘ì¹˜ ì¡°ì •
â”‚   â”œâ”€â”€ us_market_regime.py     # ì‹œì¥ ë ˆì§ ê°ì§€ (5ê°œ ë ˆì§)
â”‚   â”œâ”€â”€ us_value_factor.py      # Value íŒ©í„° (VL1-VL6)
â”‚   â”œâ”€â”€ us_quality_factor.py    # Quality íŒ©í„° (QA1-QA6)
â”‚   â”œâ”€â”€ us_momentum_factor.py   # Momentum íŒ©í„° (MO1-MO6)
â”‚   â”œâ”€â”€ us_growth_factor.py     # Growth íŒ©í„° (FG1-FG6, NQ1-NQ4)
â”‚   â”œâ”€â”€ us_factor_interactions.py # Factor Interaction (I1-I5)
â”‚   â”œâ”€â”€ us_agent_metrics.py     # Agentìš© ì§€í‘œ ìƒì„±
â”‚   â”œâ”€â”€ us_event_engine.py      # Event Engine (ì‹¤ì , ì˜µì…˜, ë‚´ë¶€ì)
â”‚   â”œâ”€â”€ us_volatility_adjustment.py # Volatility Engine
â”‚   â”œâ”€â”€ us_nasdaq_optimizer.py  # NASDAQ ì „ìš© ìµœì í™”
â”‚   â”œâ”€â”€ us_healthcare_optimizer.py # í—¬ìŠ¤ì¼€ì–´ ì„¹í„° ìµœì í™”
â”‚   â”œâ”€â”€ us_exchange_optimizer.py # ê±°ë˜ì†Œë³„ ìµœì í™”
â”‚   â”œâ”€â”€ us_sector_benchmarks.py # ì„¹í„° ë²¤ì¹˜ë§ˆí¬
â”‚   â”œâ”€â”€ us_sector_dynamic_weights.py # ì„¹í„°ë³„ ë™ì  ê°€ì¤‘ì¹˜
â”‚   â”œâ”€â”€ us_alternative_matcher.py # ëŒ€ì•ˆ ì¢…ëª© ë§¤ì¹­
â”‚   â”œâ”€â”€ us_data_prefetcher.py   # ì¿¼ë¦¬ ìµœì í™”
â”‚   â”œâ”€â”€ us_outlier_risk.py      # ì´ìƒì¹˜ ë¦¬ìŠ¤í¬ ê°ì§€
â”‚   â””â”€â”€ us_ic_monitor.py        # IC ëª¨ë‹ˆí„°ë§
â”‚
â”œâ”€â”€ docs/                       # ì„¤ê³„ ë¬¸ì„œ
â”‚   â”œâ”€â”€ í€€íŠ¸ ë°°í¬ api.md        # Railway ë°°í¬ ì„¤ê³„ì„œ
â”‚   â”œâ”€â”€ í€€íŠ¸ ë¶„ì„ ê¸°íš.md
â”‚   â”œâ”€â”€ í•œêµ­ í€€íŠ¸ ëª¨ë¸.md
â”‚   â””â”€â”€ ë¯¸êµ­ í€€íŠ¸ ëª¨ë¸.md
â”‚
â””â”€â”€ cache/                      # ìºì‹œ íŒŒì¼
    â””â”€â”€ market_environment_cache.json
```

---

## ê°œë°œí™˜ê²½ ë° ì‚¬ìš©ê¸°ìˆ 

| êµ¬ë¶„ | ê¸°ìˆ  |
|------|------|
| Language | Python 3.11+ |
| Web Framework | FastAPI 0.128 |
| ASGI Server | uvicorn 0.40 |
| Database | PostgreSQL (asyncpg) |
| Deploy | Railway |
| Scheduler | Cron (data ì„œë¹„ìŠ¤ì—ì„œ íŠ¸ë¦¬ê±°) |

### ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬

| ë¼ì´ë¸ŒëŸ¬ë¦¬ | ë²„ì „ | ìš©ë„ |
|------------|------|------|
| fastapi | 0.128.1 | HTTP API ì„œë²„ |
| uvicorn | 0.40.0 | ASGI ì„œë²„ |
| asyncpg | 0.30.0 | PostgreSQL ë¹„ë™ê¸° ì—°ê²° |
| psycopg2-binary | 2.9.11 | PostgreSQL ë™ê¸° ì—°ê²° |
| httpx | 0.28.1 | ë¹„ë™ê¸° HTTP í´ë¼ì´ì–¸íŠ¸ (ì„œë¹„ìŠ¤ ì²´ì´ë‹) |
| requests | 2.32.5 | HTTP í´ë¼ì´ì–¸íŠ¸ (ë™ê¸°) |
| numpy | 2.3.4 | ìˆ˜ì¹˜ ê³„ì‚° |
| pandas | 2.3.3 | ë°ì´í„° ì²˜ë¦¬ |
| scipy | 1.16.3 | í†µê³„ ê³„ì‚° |
| statsmodels | 0.14.6 | ì‹œê³„ì—´ ë¶„ì„ |
| scikit-learn | 1.7.2 | ë¨¸ì‹ ëŸ¬ë‹ |
| hmmlearn | 0.3.3 | Hidden Markov Model (ë ˆì§ ê°ì§€) |
| linearmodels | 7.0 | íŒ¨ë„ ë°ì´í„° ì„ í˜• ëª¨ë¸ |
| openai | 2.6.0 | OpenAI API |
| fredapi | 0.5.2 | FRED ê²½ì œ ë°ì´í„° API |
| beautifulsoup4 | 4.14.2 | HTML íŒŒì‹± |
| python-dotenv | 1.1.1 | í™˜ê²½ë³€ìˆ˜ ë¡œë“œ |
| matplotlib | 3.10.7 | ì‹œê°í™” |
| seaborn | 0.13.2 | í†µê³„ ì‹œê°í™” |
| tqdm | 4.67.1 | ì§„í–‰ë¥  í‘œì‹œ |
| psutil | 7.1.3 | ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ |

---

## API ì—”ë“œí¬ì¸íŠ¸

| Method | Endpoint | ì„¤ëª… | ì¸ì¦ |
|--------|----------|------|------|
| GET | `/health` | í—¬ìŠ¤ ì²´í¬ | ë¶ˆí•„ìš” |
| POST | `/kr/run` | í•œêµ­ ì£¼ì‹ ì „ì²´ ì¢…ëª© ë¶„ì„ (ë‹¹ì¼) | X-API-KEY |
| POST | `/us/run` | ë¯¸êµ­ ì£¼ì‹ ì „ì²´ ì¢…ëª© ë¶„ì„ (ìë™ ë‚ ì§œ ê°ì§€) | X-API-KEY |

---

## ì„œë¹„ìŠ¤ ì—°ë™ (Chaining)

### ì „ì²´ ì‘ì—… íë¦„

```
data ì„œë¹„ìŠ¤ (cron trigger)
    â”‚
    â”œâ”€ KR: POST /collect/kr/daily-complete (ì›”~ê¸ˆ 16:05)
    â”‚   â””â”€â†’ quant: POST /kr/run
    â”‚       â””â”€â†’ portfolio: POST /recommend/daily {"country": "KR"}
    â”‚
    â””â”€ US: POST /collect/us/daily (í™”~í†  06:05)
        â””â”€â†’ quant: POST /us/run
            â””â”€â†’ portfolio: POST /recommend/daily {"country": "US"}
```

---

## âš ï¸ **ì‚¬ì—… ì½”ë“œ - ì œí•œì  ê³µê°œ**

ğŸš« **ìƒì—…ì  ì‚¬ìš© / ìˆ˜ì • / ì¬ë°°í¬ ì—„ê²© ê¸ˆì§€**
â° **ì„ì‹œ ê³µê°œ í›„ Private ì „í™˜ ì˜ˆì •**
ğŸ‘ï¸ **ì°¸ê³ ìš©ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ì„¸ìš”**

## License
[CC BY-NC-ND 4.0](https://creativecommons.org/licenses/by-nc-nd/4.0/)
